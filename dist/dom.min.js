window.DOM=function(e){return e._domified||(e??={},e._domified=!0,e.on=(t,n,r)=>(e.addEventListener(t,n,r),e),e.off=(t,n,r)=>(e.removeEventListener(t,n,r),e),e.el=t=>DOM.el(t,e),e.els=t=>DOM.els(t,e),e.append=(...t)=>DOM.append(e,t),e.apply=t=>DOM.apply(e,t)),e},DOM.id=function(e){return DOM(document.getElementById(e))},DOM.el=function(e,t=document){return DOM(t.querySelector(e))},DOM.els=function(e,t=document){return DOM(t.querySelectorAll(e))},DOM.new=function(e="div",t={}){return DOM(document.createElement(e)).apply(t)},DOM.apply=function(e,t={}){let n="";for(let r in t)"content"==r?n=t[r]:e.setAttribute(r,t[r]),n&&(e.innerText=n);return DOM(e)},DOM.empty=function(e){for(;e.childNodes.length;)e.firstChild.remove();return DOM(e)},DOM.append=function(e=document,...t){return(t=[t].flat(1/0)).forEach((t=>{console.log(t),e.appendChild(t)})),DOM(e)},DOM.expand=function(e,t){for(let[n,r]of e.matchAll(/\{\{(.+?)\}\}/g))if(t.hasOwnProperty(r))for(;e.indexOf(n)>-1;)e=e.replace(n,t[r]);return e},DOM.debounce=function(e,t=300){let n;return()=>{n&&clearTimeout(n),n=setTimeout(e,t)}},DOM.Animator=function(e=60){let t,n={},r=e,o=numFrames=0;let l=0;return window.requestAnimationFrame((function e(r){let i;t&&(i=r-t,o+=i,numFrames++,r>l&&(l=r+1e3)),t=r;for(let e in n){let{group:t,callback:o,data:l}=n[e];"function"==typeof o&&t.length&&o(t,r,l)}window.requestAnimationFrame(e)})),{animate:function(e,t,o=function(){},l={framerate:r}){Array.isArray(t)||(t=[t]),n[e]={name:e,group:t,callback:o,data:l}},stop:function(e){delete n[e]}}},window.SVG={},SVG.new=function(e=[],t={},n=[]){let r=document.createElementNS("http://www.w3.org/2000/svg","svg");for(let t of e)r.appendChild(t);if(n&&n.length){let e,t,o=y1=0;switch(n.length){case 1:e=t=parseInt(n);break;case 2:[e,t]=n;break;case 4:[o,y1,e,t]=n}e&&t&&r.setAttribute("viewBox",`${o} ${y1} ${e} ${t}`)}return DOM.apply(r,t)},SVG.shape=function(e="rect",t={}){let n=document.createElementNS("http://www.w3.org/2000/svg",e);return DOM.apply(n,t)},SVG.group=function(e=[],t={}){let n=document.createElementNS("http://www.w3.org/2000/svg","g");for(let t of e)n.appendChild(t);return DOM.apply(n,t)};